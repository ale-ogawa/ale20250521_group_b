<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.webapp.repository.DiaryMapper">
	
	<select id="findGroups"
		resultType="com.example.webapp.entity.Group">
		SELECT id, name
		FROM groups
		WHERE account_id = #{accountId}
	</select>

	<select id="findToday"
		resultType="com.example.webapp.entity.Diary">
		SELECT id, text, feeling
		FROM diaries
		WHERE account_id = #{accountId} and date = #{localDate}
	</select>
	
	<select id="findScopes"
		resultType="com.example.webapp.entity.Scope">
		SELECT group_id, setting
		FROM scopes
		WHERE diary_id = #{diaryId}
	</select>
	
	<select id="findFeelings"
		resultType="com.example.webapp.entity.Diary">
		SELECT date, feeling, text
		FROM diaries
		WHERE date BETWEEN #{firstDay} AND #{lastDay}
	</select>
	
</mapper>